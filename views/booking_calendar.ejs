<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Delo Services - Booking Dashboard</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="https://www.deloservices.com/images/delofabicon.png">
    <!-- Pignose Calender -->
    <link href="./plugins/pg-calendar/css/pignose.calendar.min.css" rel="stylesheet">
    <!-- Chartist -->
    <link rel="stylesheet" href="./plugins/chartist/css/chartist.min.css">
    <link rel="stylesheet" href="./plugins/chartist-plugin-tooltips/css/chartist-plugin-tooltip.css">
    <!-- Custom Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="/dentist/octopus/assets/vendor/fullcalendar/fullcalendar.css" />
	<link rel="stylesheet" href="/dentist/octopus/assets/vendor/fullcalendar/fullcalendar.print.css" media="print" />

</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <div class="brand-logo">
                <a href="index.html">
                    <b class="logo-abbr"><img src="https://www.deloservices.com/images/delofabicon.png" alt=""> </b>
                    <span class="logo-compact"><img src="./images/logo-compact.png" alt=""></span>
                    <span class="brand-title" style="color: white;font-family: 'cambria'">
                        <img src="https://www.deloservices.com/images/delofabicon.png" alt="">Delo Services
                    </span>
                </a>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->

      

      




<div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="card-title">
                            <h4>Booking Calendar</h4>
                       <img src="/images/colorcode2.png" style="height:150px">
                        </div>
                        <div class="row">
                           
                            <div class="col-md-12">
                                <div class="card-box m-b-50">
                                    <div id="result"></div>
                                    <div id="calendar"></div>
                                </div>
                            </div>

                            <!-- end col -->
                            <!-- BEGIN MODAL -->
                            <div class="modal fade none-border" id="event-modal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title"><strong>Add New Event</strong></h4>
                                        </div>
                                        <div class="modal-body"></div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-success save-event waves-effect waves-light">Create event</button>
                                            <button type="button" class="btn btn-danger delete-event waves-effect waves-light" data-dismiss="modal">Delete</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Modal Add Category -->
                            <div class="modal fade none-border" id="add-category">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title"><strong>Add a category</strong></h4>
                                        </div>
                                        <div class="modal-body">
                                            <form>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label class="control-label">Category Name</label>
                                                        <input class="form-control form-white" placeholder="Enter name" type="text" name="category-name">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="control-label">Choose Category Color</label>
                                                        <select class="form-control form-white" data-placeholder="Choose a color..." name="category-color">
                                                            <option value="success">Success</option>
                                                            <option value="danger">Danger</option>
                                                            <option value="info">Info</option>
                                                            <option value="pink">Pink</option>
                                                            <option value="primary">Primary</option>
                                                            <option value="warning">Warning</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Close</button>
                                            <button type="button" class="btn btn-danger waves-effect waves-light save-category" data-dismiss="modal">Save</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- END MODAL -->
                        </div>
                    </div>
                </div>
                <!-- /# card -->
            </div>
            <!-- /# column -->
        </div>
    </div>
    <!-- #/ container -->
</div>


<!--**********************************
    Content body end
***********************************-->

<div class="footer">
    <div class="copyright">
            <p>Copyright &copy;2019 Delo Services Pvt. Ltd</p>
    </div>
</div>
<!--**********************************
    Footer end
***********************************-->
</div>
<!--**********************************
Main wrapper end
***********************************-->

<!--**********************************
Scripts
***********************************-->
<script src="plugins/common/common.min.js"></script>
<script src="js/custom.min.js"></script>
<script src="js/settings.js"></script>
<script src="js/gleek.js"></script>
<script src="js/styleSwitcher.js"></script>


        <!-- Specific Page Vendor -->

        <script src="/dentist/octopus/assets/vendor/fullcalendar/lib/moment.min.js"></script>
        <script src="/dentist/octopus/assets/vendor/fullcalendar/fullcalendar.js"></script>
    
  

<!-- Examples -->
<!--<script src="/dentist/octopus/assets/javascripts/pages/examples.calendar.js"></script>-->
<script>




  var events = [];
  
  $.ajax({
      type : "GET",
      url : "/adminhome/today",
      success : function(data){
          $.each(data,function(i,item){
              events.push({
                  id : item.id,
                   title : item.name,
                   email : item.email,
                   usernumber :  item.usernumber,
                    address : item.address,
                    time : item.time,
                    booking_date : item.booking_date,
                    booking_id : item.booking_id,
                    price : item.price,
                    payment_mode : item.payment_mode,
                    pincode : item.pincode,
                    service_agent : item.service_agent,
                    status : item.status,
                    rating : item.rating,
                    review : item.review,
                    otp : item.otp,
                    quantity : item.quantity,
                    date : item.date,
                    working_otp : item.working_otp,
                     start : item.date,
                     booking_time : item.booking_time,
                     color : item.color
                   
              });
          })
  
  
          GenerateCalendar(events);
  
      },
      error : function(error){
          alert('error')
      }
  })
  
  
  var $calendar = $('#calendar');
          var date = new Date();
          var d = date.getDate();
          var m = date.getMonth();
          var y = date.getFullYear();
  
      
  
  function GenerateCalendar(events){
      $('#calendar').fullCalendar('destroy');
      $('#calendar').fullCalendar({
          header: {
                  left: 'prev,today,next',
                  center : 'title',
                   right: 'month,basicWeek,basicDay,list'
              },
  
              timeFormat: 'h(:mm)a',
  
              titleFormat: {
                  month: 'MMMM YYYY',      // September 2009
                  week: "MMM d YYYY",      // Sep 13 2009
                  day: 'dddd, MMM d, YYYY' // Tuesday, Sep 8, 2009
              },
  
              themeButtonIcons: {
                  prev: 'fa fa-caret-left',
                  next: 'fa fa-caret-right',
              },
          eventLimit :true,
          events : events,
          eventClick : function(calEvent,jsEvent,view){
              let table = ` <div class="row flex-row">
                    <div class="col-xl-12">
                        <!-- Begin Widget 07 -->
                        <div class="widget widget-07 has-shadow">
                            <!-- Begin Widget Header -->
                            <div class="widget-header bordered d-flex align-items-center">

                                <div class="widget-options">
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-primary ripple back">Back</button>
                                       
                                    </div>
                                </div>
                            </div>
                            <!-- End Widget Header -->
                            <!-- Begin Widget Body -->
                            <div class="widget-body">
                                <div class="table-responsive table-scroll padding-right-10" style="max-height:520px;">
                                    <table class="table table-hover mb-0">
                                        <thead>
                                            <tr>
                                               <th>ID</th>
                                               <th>${calEvent.id}</th>
                                            </tr>
                                            <tr>
                                               <th>Name</th>
                                               <th>${calEvent.title}</th>
                                            </tr>
                                            <tr>
                                                    <th>Service</th>
                                                    <th>${calEvent.booking_id}</th>
                                            </tr>
                                            <tr>
                                                    <th>Email</th>
                                                    <th>${calEvent.email} </th>
                                            </tr>
                                            <tr>
                                                    <th>Number</th>
                                                    <th>${calEvent.usernumber}</th>
                                            </tr>
                                            <tr>
                                                    <th><span>Service Agent</span></th>
                                                    <th><span>${calEvent.service_agent}</span></th>
                                            </tr>
                                            <tr>
                                                    <th>Pincode</th>
                                                    <th>${calEvent.pincode}</th>
                                            </tr>
                                            <tr>
                                                    <th>Address</th>
                                                    <th>${calEvent.address}</th>
                                            </tr>
                                            <tr>
                                                    <th>Date</th>
                                                    <th>${calEvent.date}</th>
                                            </tr>
                                            <tr>
                                                    <th>Time</th>
                                                    <th>${calEvent.time}</th>
                                            </tr>

                                            <tr>
                                                    <th>Booking Date</th>
                                                    <th>${calEvent.booking_date}</th>
                                            </tr>

                                            <tr>
                                                    <th>Booking Time</th>
                                                    <th>${calEvent.booking_time}</th>
                                            </tr>

                                        

                                            <tr>
                                                    <th>Price</th>
                                                    <th>${calEvent.price}</th>
                                            </tr>

                                            <tr>
                                                    <th>Payment Mode</th>
                                                    <th>${calEvent.payment_mode}</th>
                                            </tr>
                                            

                                            

                                        </thead>



                                       
                                    </table>
                                </div>
                            </div>
                            <!-- End Widget Body -->
                            <!-- Begin Widget Footer -->
                        
                        </div>
                        <!-- End Widget 07 -->
                    </div>
                </div>`
                $('#result').html(table)
                $('#calendar').hide()
                $('#result').show()
          }
          
      })
  }
          
  var $calendarButtons = $('#calendar').find('.fc-header-right > span');
          $calendarButtons
              .filter('.fc-button-prev, .fc-button-today, .fc-button-next')
                  .wrapAll('<div class="btn-group mt-sm mr-md mb-sm ml-sm"></div>')
                  .parent()
                  .after('<br class="hidden"/>');
  
          $calendarButtons
              .not('.fc-button-prev, .fc-button-today, .fc-button-next')
                  .wrapAll('<div class="btn-group mb-sm mt-sm"></div>');
  
          $calendarButtons
              .attr({ 'class': 'btn btn-sm btn-default' });
      
  
  
          
      </script>



<script>

$('#result').on('click', '.back', function() {
$('#result').hide()
$('#calendar').show()
})
</script>
</body>

</html>