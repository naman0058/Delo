<!--<button type="button" class="btn btn-success" id="cash">Pay with cash </button>

<script src="/javascripts/jquery.js"></script>
<script>

$('#cash').click(function(){
    $.post('/services/booking_successfull',data=>{
        alert('success')
     window.location.href="/booking";
    })
})
</script>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="images/x-icon" href="/images/delofabicon.png">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  
  
<!-- Global site tag (gtag.js) - Google Ads: 741046957 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-741046957"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-741046957');
</script>
  
    <title>Document</title>
    <style>
 @import url(https://fonts.googleapis.com/css?family=Lato:400,300,700);
body,html {
  height:100%;
  margin:0;
  font-family:lato;
}

h2 {
  margin-bottom:0px;
  margin-top:25px;
  text-align:center;
  font-weight:200;
  font-size:19px;
  font-size:1.2rem;
  
}
.container {
  height:100%;
  -webkit-box-pack:center;
  -webkit-justify-content:center;
      -ms-flex-pack:center;
          justify-content:center;
  -webkit-box-align:center;
  -webkit-align-items:center;
      -ms-flex-align:center;
          align-items:center;
  display:-webkit-box;
  display:-webkit-flex;
  display:-ms-flexbox;
  display:flex;
  background:-webkit-linear-gradient(#c5e5e5, #ccddf9);
  background:linear-gradient(#c9e5e9,#ccddf9);
}
.dropdown-select.visible {
  display:block;
}
.dropdown {
  position:relative;
}
ul {
  margin:0;
  padding:0;
}
ul li {
  list-style:none;
  padding-left:10px;
  cursor:pointer;
}
ul li:hover {
  background:rgba(255,255,255,0.1);
}
.dropdown-select {
  position:absolute;
  background:#77aaee;
  text-align:left;
  box-shadow:0px 3px 5px 0px rgba(0,0,0,0.1);
  border-bottom-right-radius:5px;
  border-bottom-left-radius:5px;
  width:90%;
  left:2px;
  line-height:2em;
  margin-top:2px;
  box-sizing:border-box;
}
.thin {
  font-weight:400;
}
.small {
  font-size:12px;
  font-size:.8rem;
}
.half-input-table {
  border-collapse:collapse;
  width:100%;
}
.half-input-table td:first-of-type {
  border-right:10px solid #4488dd;
  width:50%;
}
.window {
  height:540px;
  width:800px;
  background:#fff;
  display:-webkit-box;
  display:-webkit-flex;
  display:-ms-flexbox;
  display:flex;
  box-shadow: 0px 15px 50px 10px rgba(0, 0, 0, 0.2);
  border-radius:30px;
  z-index:10;
}
.order-info {
  height:100%;
  width:50%;
  padding-left:25px;
  padding-right:25px;
  box-sizing:border-box;
  display:-webkit-box;
  display:-webkit-flex;
  display:-ms-flexbox;
  display:flex;
  -webkit-box-pack:center;
  -webkit-justify-content:center;
      -ms-flex-pack:center;
          justify-content:center;
  position:relative;
}
.price {
  bottom:0px;
  position:absolute;
  right:0px;
  color:#4488dd;
}
.order-table td:first-of-type {
  width:25%;
}
.order-table {
    position:relative;
}
.line {
  height:1px;
  width:100%;
  margin-top:10px;
  margin-bottom:10px;
  background:#ddd;
}
.order-table td:last-of-type {
  vertical-align:top;
  padding-left:25px;
}
.order-info-content {
  table-layout:fixed;

}

.full-width {
  width:100%;
}
.pay-btn {
  border:none;
  background:#22b877;
  line-height:2em;
  border-radius:10px;
  font-size:19px;
  font-size:1.2rem;
  color:#fff;
  cursor:pointer;
  position:absolute;
  bottom:70px;
  width:calc(100% - 50px);
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}
.pay-btn:hover {
  background:#22a877;
    color:#eee;
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}



.pay-btn1 {
  border:none;
  background:#22b877;
  line-height:2em;
  border-radius:10px;
  font-size:19px;
  font-size:1.2rem;
  color:#fff;
  cursor:pointer;
  position:absolute;
  bottom:10px;
  width:calc(100% - 50px);
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}


.pay-btn1:hover {
  background:#22a877;
    color:#eee;
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}



.pay-btn2 {
  border:none;
  background:#22b877;
  line-height:2em;
  border-radius:10px;
  font-size:19px;
  font-size:1.2rem;
  color:#fff;
  cursor:pointer;
  position:absolute;
  bottom:150px;
  width:calc(100% - 50px);
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}






.pay-btn3 {
  border:none;
  background:#22b877;
  line-height:2em;
  border-radius:10px;
  font-size:19px;
  font-size:1.2rem;
  color:#fff;
  cursor:pointer;
  position:absolute;
  bottom:10px;
  width:calc(100% - 50px);
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}



.pay-btn2:hover {
  background:#22a877;
    color:#eee;
  -webkit-transition:all .2s ease;
          transition:all .2s ease;
}



.total {
  margin-top:25px;
  font-size:20px;
  font-size:1.3rem;
  position:absolute;
  bottom:30px;
  right:27px;
  left:35px;
}
.dense {
  line-height:1.2em;
  font-size:16px;
  font-size:1rem;
}
.input-field {
  background:rgba(255,255,255,0.1);
  margin-bottom:10px;
  margin-top:3px;
  line-height:1.5em;
  font-size:20px;
  font-size:1.3rem;
  border:none;
  padding:5px 10px 5px 10px;
  color:#fff;
  box-sizing:border-box;
  width:100%;
  margin-left:auto;
  margin-right:auto;
}
.credit-info {
  background:#4488dd;
  height:100%;
  width:50%;
  color:#eee;
  -webkit-box-pack:center;
  -webkit-justify-content:center;
      -ms-flex-pack:center;
          justify-content:center;
  font-size:14px;
  font-size:.9rem;
  display:-webkit-box;
  display:-webkit-flex;
  display:-ms-flexbox;
  display:flex;
  box-sizing:border-box;
  padding-left:25px;
  padding-right:25px;
  border-top-right-radius:30px;
  border-bottom-right-radius:30px;
  position:relative;
}
.dropdown-btn {
  background:rgba(255,255,255,0.1);
  width:100%;
  border-radius:5px;
  text-align:center;
  line-height:1.5em;
  cursor:pointer;
  position:relative;
  -webkit-transition:background .2s ease;
          transition:background .2s ease;
}
.dropdown-btn:after {
  content: '\25BE';
  right:8px;
  position:absolute;
}
.dropdown-btn:hover {
  background:rgba(255,255,255,0.2);
  -webkit-transition:background .2s ease;
          transition:background .2s ease;
}
.dropdown-select {
  display:none;
}
.credit-card-image {
  display:block;
  max-height:80px;
  margin-left:auto;
  margin-right:auto;
  margin-top:35px;
  margin-bottom:15px;
}
.credit-info-content {
  margin-top:25px;
  -webkit-flex-flow:column;
      -ms-flex-flow:column;
          flex-flow:column;
  display:-webkit-box;
  display:-webkit-flex;
  display:-ms-flexbox;
  display:flex;
  width:100%;
}
@media (max-width: 600px) {
  .window {
    width: 100%;
    height: 100%;
    display:block;
    border-radius:0px;
  }
  .order-info {
    width:100%;
    height:auto;
    padding-bottom:100px;
    border-radius:0px;
  }
  .credit-info {
    width:100%;
    height:auto;
    padding-bottom:100px;
    border-radius:0px;
  }
  .pay-btn {
    border-radius:0px;
  }
}
    
    </style>
</head>
<body>
    <div class='container'>
        <div class='window'>
          <div class='order-info'>
            <div class='order-info-content'>
              <h2>Order Summary</h2>
                      <div class='line'></div>
              <table class='order-table'>
                <tbody>
                  <tr>
                   
                    <td>
                      <br>Service :- <span class='thin'><%= servicename %></span>
                      <br>

                     

                     <br>

                     <input type="text" id="code" class="form-control" placeholder="Enter Membership Code"><br>
                     <button type="button" class="btn btn-light float-right" id="checkcode">Apply</button>
                    </td>
      
                  </tr>

                  <div class="alert alert-success alertmsg">
                      <strong>Rs. 100 off on your booking</strong>
                    </div>
                  
                 
                </tbody>
      
              </table>
             
             
             
            
              <div class='line'></div>
              <div class='total'>
                <span style='float:left;'>
                  <div class='thin dense'>Price</div>
             
                 <!-- <% if(cancelationprice>0) {%>
                    <div class='thin dense'>Cancellation Charge</div>
                    <% } %>-->
                 
                  <% if(total_price<99) {%>
                      <div class='thin dense'>Convenience Charge</div>
                      <% } else { %>

                        <div class='thin dense'>Convenience Charge</div>

                        <% } %>
   
                      <% if(membershipprice) {%>
                        <div class='thin dense'>Membership</div>
                        <div class='thin dense'>Membership Discount</div>
                        <% } %>

                      <hr>
                  TOTAL
                </span>
                <span style='float:right; text-align:right;'>
                  <div class='thin dense'>Rs <%=total_price%></div>
                  
                <!--  <% if(cancelationprice>0) {%>
                    <div class='thin dense'>Rs <%= cancelationprice %></div>
                    <% } %>-->
               
              
  
                  <%if(total_price < 500 && categoryid=='19' || total_price < 500 && categoryid=='48' || 
                  total_price < 500 && categoryid=='49' || total_price < 500 && categoryid=='50' || 
                  total_price < 500 && categoryid=='52' || total_price < 500 && categoryid=='32'){%>
                    <div class='thin dense'>Rs 0</div>
             <% } 
             else if(total_price>500){ %>
              <div class='thin dense'>Rs 0</div>
          <%  }
            else{ %>
              <div class='thin dense'>Rs 149</div>
        
           <% } %>


                  <% if(membershipprice) {%>
                    <div class='thin dense'>Rs <%=membershipprice%></div>
                    <div class='thin dense'>Rs 100</div>
                    <% } %>

                  <hr>
               Rs <%= finalprice %>
                </span>
              </div>
      </div>
      </div>
              <div class='credit-info'>


                  <div class='credit-info-content' id="alreadymember">
                  
                     
                      <a href="/services/paywithmobikwikwithalreadymember"><button class='pay-btn2'>Pay Now with Mobikwik</button></a>
                     
                    </div>

                <div class='credit-info-content' id="normaladdtocartmembership">
                 
                  
                  <% if(membershipprice) {%>
                   
                    <a href="/services/paywithmobikwikwithmembership"><button class='pay-btn2'>Pay Now with Mobikwik</button></a>
                    <button class='pay-btn3' id="razorpaymembership" service = "<%= servicename %>"  username = "<%=username%>" email = "<%=email%>" number = "<%=number%>" address = "<%=address%>" amount = "<%= finalprice %>"  >Pay with razorpay </button>

                    <% } else { %>
                 
                 
                      <button class='pay-btn' id="cash" amount = "<%= finalprice %>" categoryid = "<%=categoryid%>">Pay with cash </button>

                  <!-- normal razorpay -->
                 <button class='pay-btn3' id="razorpay" service = "<%= servicename %>"  username = "<%=username%>" email = "<%=email%>" number = "<%=number%>" address = "<%=address%>" amount = "<%= finalprice %>"  >Pay with razorpay </button>

                  <a href="/services/paywithmobikwik"><button class='pay-btn2'>Pay Now with Mobikwik</button></a>
      <% } %>
                 
                </div>
      
              </div>
            </div>
      </div>
</body>

<script src="/javascripts/jquery.js"></script>
<script>

$('#cash').click(function(){


  const amount = $(this).attr('amount')
  const total_price = $(this).attr('amount')
  const categoryid = $(this).attr('categoryid')
  
  
  if(total_price < 500 && categoryid=='19' || total_price < 500 && categoryid=='48' || 
       total_price < 500 && categoryid=='49' || total_price < 500 && categoryid=='50' || 
       total_price < 500 && categoryid=='52' || total_price < 500 && categoryid=='32'){
        alert('Cash on Delievery is not availavle in this service')
    }

  else{
    $.post('/services/booking_successfull',data=>{
    window.location.href="/booking";
    })
  }

   
})
</script>


<script type="text/javascript">
  (function() {
  window.__insp = window.__insp || [];
  __insp.push(['wid', 1301399890]);
  var ldinsp = function(){
  if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js?wid=1301399890&r=' + Math.floor(new Date().getTime()/3600000); var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
  setTimeout(ldinsp, 0);
  })();
  </script>



<script>

$('#alreadymember').hide()
$('.alertmsg').hide()

$('#checkcode').click(function(){
  if( $('#code').val() ==[] || $('#code').val == "" || $('#code').val() == null || $('#code').val() == "null" ) alert('Enter Membership Code')
  else {
    const code = $('#code').val()
    $.get('/membership/checkcode',{code},data=>{
      if(data == 'applied'){
        
  $('.alertmsg').show()
  $('#normaladdtocartmembership').hide()
  $('#alreadymember').show()
      }
      else{
        alert(data)
        $('#normaladdtocartmembership').show()
  $('#alreadymember').hide()
  $('.alertmsg').hide()
      }





    })
  }
 
})

</script>


<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>

$('#razorpay').click(function(e){

  const servicename = $(this).attr('service')
  const username = $(this).attr('username')
  const email = $(this).attr('email')
  const number = $(this).attr('number')
  const address = $(this).attr('address')

  const amount = $(this).attr('amount')*100
  $.post('/services/razorpay',{amount},data=>{

  console.log(data)

    var options1 = {
    "key": "rzp_live_2KlcXieUGyQ8k6", // Enter the Key ID generated from the Dashboard
    "amount": amount, // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise or INR 500.
    "currency": "INR",
    "name": "Delo Services Pvt. Ltd.",
    "description": servicename,
    "image": "https://www.deloservices.com/images/delofabicon.png",
    "order_id": data.id,//This is a sample Order ID. Create an Order using Orders API. (https://razorpay.com/docs/payment-gateway/orders/integration/#step-1-create-an-order). Refer the Checkout form table given below
    "handler": function (response){

      console.log('response aaya hai',response)

      $.post('/services/booking_successfull_razorpay',response,data=>{
if(data == 'success'){
   window.location.href = '/booking'
}
else{
  window.location.href = '/login' 
}
      })
    
      
    },
    "prefill": {
        "name": username,
        "email": email,
        "contact": number
    },
    "notes": {
        "address": address
    },
    "theme": {
        "color": "#507ec0"
    }
};


var rzp1 = new Razorpay(options1  );

    rzp1.open();
 
    e.preventDefault();





  })
})


     

      

</script>



</html>